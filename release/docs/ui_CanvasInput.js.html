<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>JSCF</title>
    
    <meta name="description" content="Javascript Canvas Framework" />
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    <meta property="og:site_name" content="JSCF"/>
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":true,"cleverLinks":true,"default":{"outputSourceFiles":true},"applicationName":"JSCF","disqus":"","googleAnalytics":"","openGraph":{"title":"","type":"website","image":"","site_name":"JSCF","url":""},"meta":{"title":"JSCF","description":"Javascript Canvas Framework","keyword":""},"linenums":true};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html">JSCF</a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="Colliders">
            <span class="title">
                <a href="Colliders.html">Colliders</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components">
            <span class="title">
                <a href="Components.html">Components</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Core">
            <span class="title">
                <a href="Core.html">Core</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics">
            <span class="title">
                <a href="Graphics.html">Graphics</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Input">
            <span class="title">
                <a href="Input.html">Input</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Physics">
            <span class="title">
                <a href="Physics.html">Physics</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Resources">
            <span class="title">
                <a href="Resources.html">Resources</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Scene">
            <span class="title">
                <a href="Scene.html">Scene</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Scene.SceneUtils"><a href="Scene.html#.SceneUtils">SceneUtils</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Sound">
            <span class="title">
                <a href="Sound.html">Sound</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI">
            <span class="title">
                <a href="UI.html">UI</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI.Layout">
            <span class="title">
                <a href="UI.Layout.html">UI.Layout</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UI.Layout.calcPreferredSize"><a href="UI.Layout.html#.calcPreferredSize">calcPreferredSize</a></li>
            
                <li data-name="UI.Layout.doLayout"><a href="UI.Layout.html#.doLayout">doLayout</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI.LinedLayout">
            <span class="title">
                <a href="UI.LinedLayout.html">UI.LinedLayout</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UI.LinedLayout.calcPreferredSize"><a href="UI.LinedLayout.html#.calcPreferredSize">calcPreferredSize</a></li>
            
                <li data-name="UI.LinedLayout.doLayout"><a href="UI.LinedLayout.html#.doLayout">doLayout</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Utils">
            <span class="title">
                <a href="Utils.html">Utils</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Utils.__EPSILON"><a href="Utils.html#.__EPSILON">__EPSILON</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Utils.MathUtils">
            <span class="title">
                <a href="Utils.MathUtils.html">Utils.MathUtils</a>
                
                <span class="static">static</span>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Utils.MathUtils.greaterThan"><a href="Utils.MathUtils.html#.greaterThan">greaterThan</a></li>
            
                <li data-name="Utils.MathUtils.lesserThan"><a href="Utils.MathUtils.html#.lesserThan">lesserThan</a></li>
            
                <li data-name="Utils.MathUtils.sign"><a href="Utils.MathUtils.html#.sign">sign</a></li>
            
                <li data-name="Utils.MathUtils.square"><a href="Utils.MathUtils.html#.square">square</a></li>
            
                <li data-name="Utils.MathUtils.toRad"><a href="Utils.MathUtils.html#.toRad">toRad</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Colliders.AABB">
            <span class="title">
                <a href="Colliders.AABB.html">Colliders.AABB</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Colliders.AABB#containsPoint"><a href="Colliders.AABB.html#containsPoint">containsPoint</a></li>
            
                <li data-name="Colliders.AABB#getNormal"><a href="Colliders.AABB.html#getNormal">getNormal</a></li>
            
                <li data-name="Colliders.AABB#getPenetration"><a href="Colliders.AABB.html#getPenetration">getPenetration</a></li>
            
                <li data-name="Colliders.AABB#isColliding"><a href="Colliders.AABB.html#isColliding">isColliding</a></li>
            
                <li data-name="Colliders.AABB#reset"><a href="Colliders.AABB.html#reset">reset</a></li>
            
                <li data-name="Colliders.AABB#setTransform"><a href="Colliders.AABB.html#setTransform">setTransform</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Colliders.CircleCollider">
            <span class="title">
                <a href="Colliders.CircleCollider.html">Colliders.CircleCollider</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Colliders.CircleCollider#containsPoint"><a href="Colliders.CircleCollider.html#containsPoint">containsPoint</a></li>
            
                <li data-name="Colliders.CircleCollider#getNormal"><a href="Colliders.CircleCollider.html#getNormal">getNormal</a></li>
            
                <li data-name="Colliders.CircleCollider#getPenetration"><a href="Colliders.CircleCollider.html#getPenetration">getPenetration</a></li>
            
                <li data-name="Colliders.CircleCollider#isColliding"><a href="Colliders.CircleCollider.html#isColliding">isColliding</a></li>
            
                <li data-name="Colliders.CircleCollider#setTransform"><a href="Colliders.CircleCollider.html#setTransform">setTransform</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components.ButtonHandler">
            <span class="title">
                <a href="Components.ButtonHandler.html">Components.ButtonHandler</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Components.ButtonHandler.component_name"><a href="Components.ButtonHandler.html#.component_name">component_name</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Components.ButtonHandler#onClick"><a href="Components.ButtonHandler.html#onClick">onClick</a></li>
            
                <li data-name="Components.ButtonHandler#update"><a href="Components.ButtonHandler.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components.Collider">
            <span class="title">
                <a href="Components.Collider.html">Components.Collider</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Components.Collider.component_name"><a href="Components.Collider.html#.component_name">component_name</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Components.Collider#getNormal"><a href="Components.Collider.html#getNormal">getNormal</a></li>
            
                <li data-name="Components.Collider#update"><a href="Components.Collider.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components.LayoutHandler">
            <span class="title">
                <a href="Components.LayoutHandler.html">Components.LayoutHandler</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Components.LayoutHandler.component_name"><a href="Components.LayoutHandler.html#.component_name">component_name</a></li>
            
                <li data-name="Components.LayoutHandler#layoutType"><a href="Components.LayoutHandler.html#layoutType">layoutType</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Components.LayoutHandler#update"><a href="Components.LayoutHandler.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components.Rigidbody">
            <span class="title">
                <a href="Components.Rigidbody.html">Components.Rigidbody</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Components.Rigidbody.component_name"><a href="Components.Rigidbody.html#.component_name">component_name</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Components.Rigidbody#applyAcceleration"><a href="Components.Rigidbody.html#applyAcceleration">applyAcceleration</a></li>
            
                <li data-name="Components.Rigidbody#applyVelocity"><a href="Components.Rigidbody.html#applyVelocity">applyVelocity</a></li>
            
                <li data-name="Components.Rigidbody#calcCollision"><a href="Components.Rigidbody.html#calcCollision">calcCollision</a></li>
            
                <li data-name="Components.Rigidbody#fixPenetration"><a href="Components.Rigidbody.html#fixPenetration">fixPenetration</a></li>
            
                <li data-name="Components.Rigidbody#setParent"><a href="Components.Rigidbody.html#setParent">setParent</a></li>
            
                <li data-name="Components.Rigidbody#setStaticBody"><a href="Components.Rigidbody.html#setStaticBody">setStaticBody</a></li>
            
                <li data-name="Components.Rigidbody#tick_update"><a href="Components.Rigidbody.html#tick_update">tick_update</a></li>
            
                <li data-name="Components.Rigidbody#update"><a href="Components.Rigidbody.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Components.Script">
            <span class="title">
                <a href="Components.Script.html">Components.Script</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Components.Script.component_name"><a href="Components.Script.html#.component_name">component_name</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Components.Script#update"><a href="Components.Script.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Core.Component">
            <span class="title">
                <a href="Core.Component.html">Core.Component</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Core.Component.component_name"><a href="Core.Component.html#.component_name">component_name</a></li>
            
                <li data-name="Core.Component#parent"><a href="Core.Component.html#parent">parent</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Core.Component.typeToName"><a href="Core.Component.html#.typeToName">typeToName</a></li>
            
                <li data-name="Core.Component#update"><a href="Core.Component.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Core.Entity">
            <span class="title">
                <a href="Core.Entity.html">Core.Entity</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Core.Entity#auto_physics"><a href="Core.Entity.html#auto_physics">auto_physics</a></li>
            
                <li data-name="Core.Entity#auto_render"><a href="Core.Entity.html#auto_render">auto_render</a></li>
            
                <li data-name="Core.Entity#auto_update"><a href="Core.Entity.html#auto_update">auto_update</a></li>
            
                <li data-name="Core.Entity#children"><a href="Core.Entity.html#children">children</a></li>
            
                <li data-name="Core.Entity#game"><a href="Core.Entity.html#game">game</a></li>
            
                <li data-name="Core.Entity#name"><a href="Core.Entity.html#name">name</a></li>
            
                <li data-name="Core.Entity#transform"><a href="Core.Entity.html#transform">transform</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Core.Entity#addChild"><a href="Core.Entity.html#addChild">addChild</a></li>
            
                <li data-name="Core.Entity#addComponent"><a href="Core.Entity.html#addComponent">addComponent</a></li>
            
                <li data-name="Core.Entity#clearParent"><a href="Core.Entity.html#clearParent">clearParent</a></li>
            
                <li data-name="Core.Entity#end_render"><a href="Core.Entity.html#end_render">end_render</a></li>
            
                <li data-name="Core.Entity#getBuiltinComponent"><a href="Core.Entity.html#getBuiltinComponent">getBuiltinComponent</a></li>
            
                <li data-name="Core.Entity#getChild"><a href="Core.Entity.html#getChild">getChild</a></li>
            
                <li data-name="Core.Entity#getChildAt"><a href="Core.Entity.html#getChildAt">getChildAt</a></li>
            
                <li data-name="Core.Entity#getChildName"><a href="Core.Entity.html#getChildName">getChildName</a></li>
            
                <li data-name="Core.Entity#getComponent"><a href="Core.Entity.html#getComponent">getComponent</a></li>
            
                <li data-name="Core.Entity#getComponentOfType"><a href="Core.Entity.html#getComponentOfType">getComponentOfType</a></li>
            
                <li data-name="Core.Entity#getDimentions"><a href="Core.Entity.html#getDimentions">getDimentions</a></li>
            
                <li data-name="Core.Entity#getGlobalTransform"><a href="Core.Entity.html#getGlobalTransform">getGlobalTransform</a></li>
            
                <li data-name="Core.Entity#hasComponentOfType"><a href="Core.Entity.html#hasComponentOfType">hasComponentOfType</a></li>
            
                <li data-name="Core.Entity#hasOwnChild"><a href="Core.Entity.html#hasOwnChild">hasOwnChild</a></li>
            
                <li data-name="Core.Entity#insertChild"><a href="Core.Entity.html#insertChild">insertChild</a></li>
            
                <li data-name="Core.Entity#render"><a href="Core.Entity.html#render">render</a></li>
            
                <li data-name="Core.Entity#setDimentions"><a href="Core.Entity.html#setDimentions">setDimentions</a></li>
            
                <li data-name="Core.Entity#setParent"><a href="Core.Entity.html#setParent">setParent</a></li>
            
                <li data-name="Core.Entity#start_render"><a href="Core.Entity.html#start_render">start_render</a></li>
            
                <li data-name="Core.Entity#update"><a href="Core.Entity.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Core.Game">
            <span class="title">
                <a href="Core.Game.html">Core.Game</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Core.Game#assetManager"><a href="Core.Game.html#assetManager">assetManager</a></li>
            
                <li data-name="Core.Game#guiManager"><a href="Core.Game.html#guiManager">guiManager</a></li>
            
                <li data-name="Core.Game#inputManager"><a href="Core.Game.html#inputManager">inputManager</a></li>
            
                <li data-name="Core.Game#resourceManager"><a href="Core.Game.html#resourceManager">resourceManager</a></li>
            
                <li data-name="Core.Game#sceneManager"><a href="Core.Game.html#sceneManager">sceneManager</a></li>
            
                <li data-name="Core.Game#state"><a href="Core.Game.html#state">state</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Core.Game#getCanvasHeight"><a href="Core.Game.html#getCanvasHeight">getCanvasHeight</a></li>
            
                <li data-name="Core.Game#getCanvasWidth"><a href="Core.Game.html#getCanvasWidth">getCanvasWidth</a></li>
            
                <li data-name="Core.Game#logAndStop"><a href="Core.Game.html#logAndStop">logAndStop</a></li>
            
                <li data-name="Core.Game#renderText"><a href="Core.Game.html#renderText">renderText</a></li>
            
                <li data-name="Core.Game#setup"><a href="Core.Game.html#setup">setup</a></li>
            
                <li data-name="Core.Game#start"><a href="Core.Game.html#start">start</a></li>
            
                <li data-name="Core.Game#stop"><a href="Core.Game.html#stop">stop</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Core.Transform">
            <span class="title">
                <a href="Core.Transform.html">Core.Transform</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Core.Transform.add"><a href="Core.Transform.html#.add">add</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.Animation">
            <span class="title">
                <a href="Graphics.Animation.html">Graphics.Animation</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Graphics.Animation#frameCounter"><a href="Graphics.Animation.html#frameCounter">frameCounter</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.Animation#nextAnimation"><a href="Graphics.Animation.html#nextAnimation">nextAnimation</a></li>
            
                <li data-name="Graphics.Animation#nextFrame"><a href="Graphics.Animation.html#nextFrame">nextFrame</a></li>
            
                <li data-name="Graphics.Animation#render"><a href="Graphics.Animation.html#render">render</a></li>
            
                <li data-name="Graphics.Animation#setAnimationIndex"><a href="Graphics.Animation.html#setAnimationIndex">setAnimationIndex</a></li>
            
                <li data-name="Graphics.Animation#setFrameIndex"><a href="Graphics.Animation.html#setFrameIndex">setFrameIndex</a></li>
            
                <li data-name="Graphics.Animation#updateFrame"><a href="Graphics.Animation.html#updateFrame">updateFrame</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.AnimFrame">
            <span class="title">
                <a href="Graphics.AnimFrame.html">Graphics.AnimFrame</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.AnimFrame#getAnimationIndex"><a href="Graphics.AnimFrame.html#getAnimationIndex">getAnimationIndex</a></li>
            
                <li data-name="Graphics.AnimFrame#getFrameIndex"><a href="Graphics.AnimFrame.html#getFrameIndex">getFrameIndex</a></li>
            
                <li data-name="Graphics.AnimFrame#nextAnimation"><a href="Graphics.AnimFrame.html#nextAnimation">nextAnimation</a></li>
            
                <li data-name="Graphics.AnimFrame#nextFrame"><a href="Graphics.AnimFrame.html#nextFrame">nextFrame</a></li>
            
                <li data-name="Graphics.AnimFrame#setAnimationIndex"><a href="Graphics.AnimFrame.html#setAnimationIndex">setAnimationIndex</a></li>
            
                <li data-name="Graphics.AnimFrame#setFrameIndex"><a href="Graphics.AnimFrame.html#setFrameIndex">setFrameIndex</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.AnimSprite">
            <span class="title">
                <a href="Graphics.AnimSprite.html">Graphics.AnimSprite</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.AnimSprite#render"><a href="Graphics.AnimSprite.html#render">render</a></li>
            
                <li data-name="Graphics.AnimSprite#startAnimation"><a href="Graphics.AnimSprite.html#startAnimation">startAnimation</a></li>
            
                <li data-name="Graphics.AnimSprite#staticRender"><a href="Graphics.AnimSprite.html#staticRender">staticRender</a></li>
            
                <li data-name="Graphics.AnimSprite#stopAnimation"><a href="Graphics.AnimSprite.html#stopAnimation">stopAnimation</a></li>
            
                <li data-name="Graphics.AnimSprite#updateAnim"><a href="Graphics.AnimSprite.html#updateAnim">updateAnim</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.Effect">
            <span class="title">
                <a href="Graphics.Effect.html">Graphics.Effect</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.Graphics">
            <span class="title">
                <a href="Graphics.Graphics.html">Graphics.Graphics</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.Graphics#clear"><a href="Graphics.Graphics.html#clear">clear</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.Plane">
            <span class="title">
                <a href="Graphics.Plane.html">Graphics.Plane</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.Plane#getDimentions"><a href="Graphics.Plane.html#getDimentions">getDimentions</a></li>
            
                <li data-name="Graphics.Plane#render"><a href="Graphics.Plane.html#render">render</a></li>
            
                <li data-name="Graphics.Plane#setDimentions"><a href="Graphics.Plane.html#setDimentions">setDimentions</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Graphics.Sprite">
            <span class="title">
                <a href="Graphics.Sprite.html">Graphics.Sprite</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Graphics.Sprite#height"><a href="Graphics.Sprite.html#height">height</a></li>
            
                <li data-name="Graphics.Sprite#width"><a href="Graphics.Sprite.html#width">width</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Graphics.Sprite#render"><a href="Graphics.Sprite.html#render">render</a></li>
            
                <li data-name="Graphics.Sprite#setImageSrcFromAsset"><a href="Graphics.Sprite.html#setImageSrcFromAsset">setImageSrcFromAsset</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Input.InputManager">
            <span class="title">
                <a href="Input.InputManager.html">Input.InputManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Input.InputManager#getMouseEvent"><a href="Input.InputManager.html#getMouseEvent">getMouseEvent</a></li>
            
                <li data-name="Input.InputManager#getMouseX"><a href="Input.InputManager.html#getMouseX">getMouseX</a></li>
            
                <li data-name="Input.InputManager#getMouseY"><a href="Input.InputManager.html#getMouseY">getMouseY</a></li>
            
                <li data-name="Input.InputManager#isKeyDown"><a href="Input.InputManager.html#isKeyDown">isKeyDown</a></li>
            
                <li data-name="Input.InputManager#isKeyDownChar"><a href="Input.InputManager.html#isKeyDownChar">isKeyDownChar</a></li>
            
                <li data-name="Input.InputManager#IsMouseDown"><a href="Input.InputManager.html#IsMouseDown">IsMouseDown</a></li>
            
                <li data-name="Input.InputManager#setOnMouseDown"><a href="Input.InputManager.html#setOnMouseDown">setOnMouseDown</a></li>
            
                <li data-name="Input.InputManager#setOnMouseUp"><a href="Input.InputManager.html#setOnMouseUp">setOnMouseUp</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Physics.Manifold">
            <span class="title">
                <a href="Physics.Manifold.html">Physics.Manifold</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Physics.Manifold#valid"><a href="Physics.Manifold.html#valid">valid</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Physics.Manifold#getNormal"><a href="Physics.Manifold.html#getNormal">getNormal</a></li>
            
                <li data-name="Physics.Manifold#getPenetration"><a href="Physics.Manifold.html#getPenetration">getPenetration</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Physics.PhysicsEngine">
            <span class="title">
                <a href="Physics.PhysicsEngine.html">Physics.PhysicsEngine</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Physics.PhysicsEngine#gravity"><a href="Physics.PhysicsEngine.html#gravity">gravity</a></li>
            
                <li data-name="Physics.PhysicsEngine#numIterations"><a href="Physics.PhysicsEngine.html#numIterations">numIterations</a></li>
            
                <li data-name="Physics.PhysicsEngine#pixelMeterRatio"><a href="Physics.PhysicsEngine.html#pixelMeterRatio">pixelMeterRatio</a></li>
            
                <li data-name="Physics.PhysicsEngine#tickDuration"><a href="Physics.PhysicsEngine.html#tickDuration">tickDuration</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Physics.PhysicsEngine#applyCollision"><a href="Physics.PhysicsEngine.html#applyCollision">applyCollision</a></li>
            
                <li data-name="Physics.PhysicsEngine#applyNaturalForces"><a href="Physics.PhysicsEngine.html#applyNaturalForces">applyNaturalForces</a></li>
            
                <li data-name="Physics.PhysicsEngine#detectCollisions"><a href="Physics.PhysicsEngine.html#detectCollisions">detectCollisions</a></li>
            
                <li data-name="Physics.PhysicsEngine#fixPenetration"><a href="Physics.PhysicsEngine.html#fixPenetration">fixPenetration</a></li>
            
                <li data-name="Physics.PhysicsEngine#resolveCollisions"><a href="Physics.PhysicsEngine.html#resolveCollisions">resolveCollisions</a></li>
            
                <li data-name="Physics.PhysicsEngine#resolveNaturalForces"><a href="Physics.PhysicsEngine.html#resolveNaturalForces">resolveNaturalForces</a></li>
            
                <li data-name="Physics.PhysicsEngine#update"><a href="Physics.PhysicsEngine.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Resources.AssetManager">
            <span class="title">
                <a href="Resources.AssetManager.html">Resources.AssetManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Resources.AssetManager#getAssetDir"><a href="Resources.AssetManager.html#getAssetDir">getAssetDir</a></li>
            
                <li data-name="Resources.AssetManager#getAssetPath"><a href="Resources.AssetManager.html#getAssetPath">getAssetPath</a></li>
            
                <li data-name="Resources.AssetManager#getExtention"><a href="Resources.AssetManager.html#getExtention">getExtention</a></li>
            
                <li data-name="Resources.AssetManager#getRule"><a href="Resources.AssetManager.html#getRule">getRule</a></li>
            
                <li data-name="Resources.AssetManager#setRule"><a href="Resources.AssetManager.html#setRule">setRule</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Resources.ResourceManager">
            <span class="title">
                <a href="Resources.ResourceManager.html">Resources.ResourceManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Resources.ResourceManager#add"><a href="Resources.ResourceManager.html#add">add</a></li>
            
                <li data-name="Resources.ResourceManager#get"><a href="Resources.ResourceManager.html#get">get</a></li>
            
                <li data-name="Resources.ResourceManager#getClone"><a href="Resources.ResourceManager.html#getClone">getClone</a></li>
            
                <li data-name="Resources.ResourceManager#getResourceName"><a href="Resources.ResourceManager.html#getResourceName">getResourceName</a></li>
            
                <li data-name="Resources.ResourceManager#remove"><a href="Resources.ResourceManager.html#remove">remove</a></li>
            
                <li data-name="Resources.ResourceManager#removeByValue"><a href="Resources.ResourceManager.html#removeByValue">removeByValue</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Scene.Scene">
            <span class="title">
                <a href="Scene.Scene.html">Scene.Scene</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Scene.Scene#paused"><a href="Scene.Scene.html#paused">paused</a></li>
            
                <li data-name="Scene.Scene#physicsEngine"><a href="Scene.Scene.html#physicsEngine">physicsEngine</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Scene.Scene#addEntity"><a href="Scene.Scene.html#addEntity">addEntity</a></li>
            
                <li data-name="Scene.Scene#createEntity"><a href="Scene.Scene.html#createEntity">createEntity</a></li>
            
                <li data-name="Scene.Scene#createManualEntity"><a href="Scene.Scene.html#createManualEntity">createManualEntity</a></li>
            
                <li data-name="Scene.Scene#createNewEntity"><a href="Scene.Scene.html#createNewEntity">createNewEntity</a></li>
            
                <li data-name="Scene.Scene#getChildName"><a href="Scene.Scene.html#getChildName">getChildName</a></li>
            
                <li data-name="Scene.Scene#getEntity"><a href="Scene.Scene.html#getEntity">getEntity</a></li>
            
                <li data-name="Scene.Scene#getEntityName"><a href="Scene.Scene.html#getEntityName">getEntityName</a></li>
            
                <li data-name="Scene.Scene#pause"><a href="Scene.Scene.html#pause">pause</a></li>
            
                <li data-name="Scene.Scene#render"><a href="Scene.Scene.html#render">render</a></li>
            
                <li data-name="Scene.Scene#resume"><a href="Scene.Scene.html#resume">resume</a></li>
            
                <li data-name="Scene.Scene#update"><a href="Scene.Scene.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Scene.SceneManager">
            <span class="title">
                <a href="Scene.SceneManager.html">Scene.SceneManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Scene.SceneManager#createScene"><a href="Scene.SceneManager.html#createScene">createScene</a></li>
            
                <li data-name="Scene.SceneManager#deleteScene"><a href="Scene.SceneManager.html#deleteScene">deleteScene</a></li>
            
                <li data-name="Scene.SceneManager#getCurrentScene"><a href="Scene.SceneManager.html#getCurrentScene">getCurrentScene</a></li>
            
                <li data-name="Scene.SceneManager#render"><a href="Scene.SceneManager.html#render">render</a></li>
            
                <li data-name="Scene.SceneManager#setCurrentScene"><a href="Scene.SceneManager.html#setCurrentScene">setCurrentScene</a></li>
            
                <li data-name="Scene.SceneManager#update"><a href="Scene.SceneManager.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Sound.SoundPlayer">
            <span class="title">
                <a href="Sound.SoundPlayer.html">Sound.SoundPlayer</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="Sound.SoundPlayer#sound"><a href="Sound.SoundPlayer.html#sound">sound</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Sound.SoundPlayer#play"><a href="Sound.SoundPlayer.html#play">play</a></li>
            
                <li data-name="Sound.SoundPlayer#stop"><a href="Sound.SoundPlayer.html#stop">stop</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI.GuiManager">
            <span class="title">
                <a href="UI.GuiManager.html">UI.GuiManager</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UI.GuiManager#buildString"><a href="UI.GuiManager.html#buildString">buildString</a></li>
            
                <li data-name="UI.GuiManager#createButton"><a href="UI.GuiManager.html#createButton">createButton</a></li>
            
                <li data-name="UI.GuiManager#createContainer"><a href="UI.GuiManager.html#createContainer">createContainer</a></li>
            
                <li data-name="UI.GuiManager#createDebugPanel"><a href="UI.GuiManager.html#createDebugPanel">createDebugPanel</a></li>
            
                <li data-name="UI.GuiManager#createDefaultButton"><a href="UI.GuiManager.html#createDefaultButton">createDefaultButton</a></li>
            
                <li data-name="UI.GuiManager#createDefaultContainer"><a href="UI.GuiManager.html#createDefaultContainer">createDefaultContainer</a></li>
            
                <li data-name="UI.GuiManager#createDefaultTextBox"><a href="UI.GuiManager.html#createDefaultTextBox">createDefaultTextBox</a></li>
            
                <li data-name="UI.GuiManager#createLabel"><a href="UI.GuiManager.html#createLabel">createLabel</a></li>
            
                <li data-name="UI.GuiManager#createTextBox"><a href="UI.GuiManager.html#createTextBox">createTextBox</a></li>
            
                <li data-name="UI.GuiManager#insertDebugPanel"><a href="UI.GuiManager.html#insertDebugPanel">insertDebugPanel</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI.Text">
            <span class="title">
                <a href="UI.Text.html">UI.Text</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UI.Text#getDimentions"><a href="UI.Text.html#getDimentions">getDimentions</a></li>
            
                <li data-name="UI.Text#render"><a href="UI.Text.html#render">render</a></li>
            
                <li data-name="UI.Text#setText"><a href="UI.Text.html#setText">setText</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="UI.Textbox">
            <span class="title">
                <a href="UI.Textbox.html">UI.Textbox</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="UI.Textbox#parent"><a href="UI.Textbox.html#parent">parent</a></li>
            
                <li data-name="UI.Textbox#textBox"><a href="UI.Textbox.html#textBox">textBox</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="UI.Textbox#getDimentions"><a href="UI.Textbox.html#getDimentions">getDimentions</a></li>
            
                <li data-name="UI.Textbox#render"><a href="UI.Textbox.html#render">render</a></li>
            
                <li data-name="UI.Textbox#setDimentions"><a href="UI.Textbox.html#setDimentions">setDimentions</a></li>
            
                <li data-name="UI.Textbox#update"><a href="UI.Textbox.html#update">update</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Utils.Point2d">
            <span class="title">
                <a href="Utils.Point2d.html">Utils.Point2d</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Utils.Point2d#distanceTo"><a href="Utils.Point2d.html#distanceTo">distanceTo</a></li>
            
                <li data-name="Utils.Point2d#getX"><a href="Utils.Point2d.html#getX">getX</a></li>
            
                <li data-name="Utils.Point2d#getY"><a href="Utils.Point2d.html#getY">getY</a></li>
            
                <li data-name="Utils.Point2d#setX"><a href="Utils.Point2d.html#setX">setX</a></li>
            
                <li data-name="Utils.Point2d#setY"><a href="Utils.Point2d.html#setY">setY</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Utils.Vector2d">
            <span class="title">
                <a href="Utils.Vector2d.html">Utils.Vector2d</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Utils.Vector2d#add"><a href="Utils.Vector2d.html#add">add</a></li>
            
                <li data-name="Utils.Vector2d#addVector"><a href="Utils.Vector2d.html#addVector">addVector</a></li>
            
                <li data-name="Utils.Vector2d#clone"><a href="Utils.Vector2d.html#clone">clone</a></li>
            
                <li data-name="Utils.Vector2d#dotProduct"><a href="Utils.Vector2d.html#dotProduct">dotProduct</a></li>
            
                <li data-name="Utils.Vector2d#getNormal"><a href="Utils.Vector2d.html#getNormal">getNormal</a></li>
            
                <li data-name="Utils.Vector2d#length"><a href="Utils.Vector2d.html#length">length</a></li>
            
                <li data-name="Utils.Vector2d#makeArray"><a href="Utils.Vector2d.html#makeArray">makeArray</a></li>
            
                <li data-name="Utils.Vector2d#normalize"><a href="Utils.Vector2d.html#normalize">normalize</a></li>
            
                <li data-name="Utils.Vector2d#scalarAdd"><a href="Utils.Vector2d.html#scalarAdd">scalarAdd</a></li>
            
                <li data-name="Utils.Vector2d#scalarDiv"><a href="Utils.Vector2d.html#scalarDiv">scalarDiv</a></li>
            
                <li data-name="Utils.Vector2d#scalarMul"><a href="Utils.Vector2d.html#scalarMul">scalarMul</a></li>
            
                <li data-name="Utils.Vector2d#scalarSub"><a href="Utils.Vector2d.html#scalarSub">scalarSub</a></li>
            
                <li data-name="Utils.Vector2d#sub"><a href="Utils.Vector2d.html#sub">sub</a></li>
            
                <li data-name="Utils.Vector2d#subVector"><a href="Utils.Vector2d.html#subVector">subVector</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="ui_CanvasInput.js.html">Source: ui/CanvasInput.js</h1>
        


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/*!
 *  CanvasInput v1.2.7
 *  http://goldfirestudios.com/blog/108/CanvasInput-HTML5-Canvas-Text-Input
 *
 *  (c) 2013-2017, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */

/**
 * @module CanvasInput
 * @memberof UI
 */

/***********************************************************
    Customized library for canvas input (textboxes etc..)
***********************************************************/

(function() {
  // create a buffer that stores all inputs so that tabbing
  // between them is made possible.
  var inputs = [];

  // initialize the Canvas Input
  var CanvasInput = window.CanvasInput = function(o) {
    var self = this;

    o = o ? o : {};

    // setup the defaults
    self._canvas = o.canvas || null;
    self._ctx = self._canvas ? self._canvas.getContext('2d') : null;
    self._x = o.x || 0;
    self._y = o.y || 0;
    self._extraX = o.extraX || 0;
    self._extraY = o.extraY || 0;
    self._fontSize = o.fontSize || 14;
    self._fontFamily = o.fontFamily || 'Arial';
    self._fontColor = o.fontColor || '#000';
    self._placeHolderColor = o.placeHolderColor || '#bfbebd';
    self._fontWeight = o.fontWeight || 'normal';
    self._fontStyle = o.fontStyle || 'normal';
    self._fontShadowColor = o.fontShadowColor || '';
    self._fontShadowBlur = o.fontShadowBlur || 0;
    self._fontShadowOffsetX = o.fontShadowOffsetX || 0;
    self._fontShadowOffsetY = o.fontShadowOffsetY || 0;
    self._readonly = o.readonly || false;
    self._maxlength = o.maxlength || null;
    self._width = o.width || 150;
    self._height = o.height || self._fontSize;
    self._padding = o.padding >= 0 ? o.padding : 5;
    self._borderWidth = o.borderWidth >= 0 ? o.borderWidth : 1;
    self._borderColor = o.borderColor || '#959595';
    self._borderRadius = o.borderRadius >= 0 ? o.borderRadius : 3;
    self._backgroundImage = o.backgroundImage || '';
    self._boxShadow = o.boxShadow || '1px 1px 0px rgba(255, 255, 255, 1)';
    self._innerShadow = o.innerShadow || '0px 0px 4px rgba(0, 0, 0, 0.4)';
    self._selectionColor = o.selectionColor || 'rgba(179, 212, 253, 0.8)';
    self._placeHolder = o.placeHolder || '';
    self._value = (o.value || self._placeHolder) + '';
    self._onsubmit = o.onsubmit || function() {};
    self._onkeydown = o.onkeydown || function() {};
    self._onkeyup = o.onkeyup || function() {};
    self._onfocus = o.onfocus || function() {};
    self._onblur = o.onblur || function() {};
    self._cursor = false;
    self._cursorPos = 0;
    self._hasFocus = false;
    self._selection = [0, 0];
    self._wasOver = false;
    self.manual = true;

    // parse box shadow
    self.boxShadow(self._boxShadow, true);

    // calculate the full width and height with padding, borders and shadows
    self._calcWH();

    // setup the off-DOM canvas
    self._renderCanvas = document.createElement('canvas');
    self._renderCanvas.setAttribute('width', self.outerW);
    self._renderCanvas.setAttribute('height', self.outerH);
    self._renderCtx = self._renderCanvas.getContext('2d');

    // setup another off-DOM canvas for inner-shadows
    self._shadowCanvas = document.createElement('canvas');
    self._shadowCanvas.setAttribute('width', self._width + self._padding * 2);
    self._shadowCanvas.setAttribute('height', self._height + self._padding * 2);
    self._shadowCtx = self._shadowCanvas.getContext('2d');

    // setup the background color
    if (typeof o.backgroundGradient !== 'undefined') {
      self._backgroundColor = self._renderCtx.createLinearGradient(
        0,
        0,
        0,
        self.outerH
      );
      self._backgroundColor.addColorStop(0, o.backgroundGradient[0]);
      self._backgroundColor.addColorStop(1, o.backgroundGradient[1]);
    } else {
      self._backgroundColor = o.backgroundColor || '#fff';
    }

    // setup main canvas events
    if (self._canvas) {
      self._canvas.addEventListener('mousemove', function(e) {
        e = e || window.event;
        self.mousemove(e, self);
      }, false);

      self._canvas.addEventListener('mousedown', function(e) {
        e = e || window.event;
        self.mousedown(e, self);
      }, false);

      self._canvas.addEventListener('mouseup', function(e) {
        e = e || window.event;
        self.mouseup(e, self);
      }, false);
    }

    // setup a global mouseup to blur the input outside of the canvas
    var autoBlur = function(e) {
      e = e || window.event;

      if (self._hasFocus &amp;&amp; !self._mouseDown) {
        self.blur();
      }
    };
    window.addEventListener('mouseup', autoBlur, true);
    window.addEventListener('touchend', autoBlur, true);

    // create the hidden input element
    self._hiddenInput = document.createElement('input');
    self._hiddenInput.type = 'text';
    self._hiddenInput.style.position = 'absolute';
    self._hiddenInput.style.opacity = 0;
    self._hiddenInput.style.pointerEvents = 'none';
    self._hiddenInput.style.zIndex = 0;
    // hide native blue text cursor on iOS
    self._hiddenInput.style.transform = 'scale(0)';

    self._updateHiddenInput();
    if (self._maxlength) {
      self._hiddenInput.maxLength = self._maxlength;
    }
    document.body.appendChild(self._hiddenInput);
    self._hiddenInput.value = self._value;

    // setup the keydown listener
    self._hiddenInput.addEventListener('keydown', function(e) {
      e = e || window.event;

      if (self._hasFocus) {
        // hack to fix touch event bug in iOS Safari
        window.focus();
        self._hiddenInput.focus();

        // continue with the keydown event
        self.keydown(e, self);
      }
    });

    // setup the keyup listener
    self._hiddenInput.addEventListener('keyup', function(e) {
      e = e || window.event;

      // update the canvas input state information from the hidden input
      self._value = self._hiddenInput.value;
      self._cursorPos = self._hiddenInput.selectionStart;
      // update selection to hidden input's selection in case user did keyboard-based selection
      self._selection = [self._hiddenInput.selectionStart, self._hiddenInput.selectionEnd];
      self.render();

      if (self._hasFocus) {
        self._onkeyup(e, self);
      }
    });

    // add this to the buffer
    inputs.push(self);
    self._inputsIndex = inputs.length - 1;

    // draw the text box
    self.render();
  };

  // setup the prototype
  CanvasInput.prototype = {
    /**
     * Get/set the main canvas.
     * @param  {Object} data Canvas reference.
     * @return {Mixed}      CanvasInput or current canvas.
     */
    canvas: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._canvas = data;
        self._ctx = self._canvas.getContext('2d');

        return self.render();
      } else {
        return self._canvas;
      }
    },

    /**
     * Get/set the x-position.
     * @param  {Number} data The pixel position along the x-coordinate.
     * @return {Mixed}      CanvasInput or current x-value.
     */
    x: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._x = data;
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._x;
      }
    },

    /**
     * Get/set the y-position.
     * @param  {Number} data The pixel position along the y-coordinate.
     * @return {Mixed}      CanvasInput or current y-value.
     */
    y: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._y = data;
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._y;
      }
    },

    /**
     * Get/set the extra x-position (generally used when no canvas is specified).
     * @param  {Number} data The pixel position along the x-coordinate.
     * @return {Mixed}      CanvasInput or current x-value.
     */
    extraX: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._extraX = data;
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._extraX;
      }
    },

    /**
     * Get/set the extra y-position (generally used when no canvas is specified).
     * @param  {Number} data The pixel position along the y-coordinate.
     * @return {Mixed}      CanvasInput or current y-value.
     */
    extraY: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._extraY = data;
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._extraY;
      }
    },

    /**
     * Get/set the font size.
     * @param  {Number} data Font size.
     * @return {Mixed}      CanvasInput or current font size.
     */
    fontSize: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontSize = data;

        return self.render();
      } else {
        return self._fontSize;
      }
    },

    /**
     * Get/set the font family.
     * @param  {String} data Font family.
     * @return {Mixed}      CanvasInput or current font family.
     */
    fontFamily: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontFamily = data;

        return self.render();
      } else {
        return self._fontFamily;
      }
    },

    /**
     * Get/set the font color.
     * @param  {String} data Font color.
     * @return {Mixed}      CanvasInput or current font color.
     */
    fontColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontColor = data;

        return self.render();
      } else {
        return self._fontColor;
      }
    },

    /**
     * Get/set the place holder font color.
     * @param  {String} data Font color.
     * @return {Mixed}      CanvasInput or current place holder font color.
     */
    placeHolderColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._placeHolderColor = data;

        return self.render();
      } else {
        return self._placeHolderColor;
      }
    },

    /**
     * Get/set the font weight.
     * @param  {String} data Font weight.
     * @return {Mixed}      CanvasInput or current font weight.
     */
    fontWeight: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontWeight = data;

        return self.render();
      } else {
        return self._fontWeight;
      }
    },

    /**
     * Get/set the font style.
     * @param  {String} data Font style.
     * @return {Mixed}      CanvasInput or current font style.
     */
    fontStyle: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontStyle = data;

        return self.render();
      } else {
        return self._fontStyle;
      }
    },

    /**
     * Get/set the font shadow color.
     * @param  {String} data Font shadow color.
     * @return {Mixed}      CanvasInput or current font shadow color.
     */
    fontShadowColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontShadowColor = data;

        return self.render();
      } else {
        return self._fontShadowColor;
      }
    },

    /**
     * Get/set the font shadow blur.
     * @param  {String} data Font shadow blur.
     * @return {Mixed}      CanvasInput or current font shadow blur.
     */
    fontShadowBlur: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontShadowBlur = data;

        return self.render();
      } else {
        return self._fontShadowBlur;
      }
    },

    /**
     * Get/set the font shadow x-offset.
     * @param  {String} data Font shadow x-offset.
     * @return {Mixed}      CanvasInput or current font shadow x-offset.
     */
    fontShadowOffsetX: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontShadowOffsetX = data;

        return self.render();
      } else {
        return self._fontShadowOffsetX;
      }
    },

    /**
     * Get/set the font shadow y-offset.
     * @param  {String} data Font shadow y-offset.
     * @return {Mixed}      CanvasInput or current font shadow y-offset.
     */
    fontShadowOffsetY: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._fontShadowOffsetY = data;

        return self.render();
      } else {
        return self._fontShadowOffsetY;
      }
    },

    /**
     * Get/set the width of the text box.
     * @param  {Number} data Width in pixels.
     * @return {Mixed}      CanvasInput or current width.
     */
    width: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._width = data;
        self._calcWH();
        self._updateCanvasWH();
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._width;
      }
    },

    /**
     * Get/set the height of the text box.
     * @param  {Number} data Height in pixels.
     * @return {Mixed}      CanvasInput or current height.
     */
    height: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._height = data;
        self._calcWH();
        self._updateCanvasWH();
        self._updateHiddenInput();

        return self.render();
      } else {
        return self._height;
      }
    },

    /**
     * Get/set the padding of the text box.
     * @param  {Number} data Padding in pixels.
     * @return {Mixed}      CanvasInput or current padding.
     */
    padding: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._padding = data;
        self._calcWH();
        self._updateCanvasWH();

        return self.render();
      } else {
        return self._padding;
      }
    },

    /**
     * Get/set the border width.
     * @param  {Number} data Border width.
     * @return {Mixed}      CanvasInput or current border width.
     */
    borderWidth: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._borderWidth = data;
        self._calcWH();
        self._updateCanvasWH();

        return self.render();
      } else {
        return self._borderWidth;
      }
    },

    /**
     * Get/set the border color.
     * @param  {String} data Border color.
     * @return {Mixed}      CanvasInput or current border color.
     */
    borderColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._borderColor = data;

        return self.render();
      } else {
        return self._borderColor;
      }
    },

    /**
     * Get/set the border radius.
     * @param  {Number} data Border radius.
     * @return {Mixed}      CanvasInput or current border radius.
     */
    borderRadius: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._borderRadius = data;

        return self.render();
      } else {
        return self._borderRadius;
      }
    },

    /**
     * Get/set the background color.
     * @param  {Number} data Background color.
     * @return {Mixed}      CanvasInput or current background color.
     */
    backgroundColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._backgroundColor = data;

        return self.render();
      } else {
        return self._backgroundColor;
      }
    },

    /**
     * Get/set the background gradient.
     * @param  {Number} data Background gradient.
     * @return {Mixed}      CanvasInput or current background gradient.
     */
    backgroundGradient: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._backgroundColor = self._renderCtx.createLinearGradient(
          0,
          0,
          0,
          self.outerH
        );
        self._backgroundColor.addColorStop(0, data[0]);
        self._backgroundColor.addColorStop(1, data[1]);

        return self.render();
      } else {
        return self._backgroundColor;
      }
    },

    /**
     * Get/set the box shadow.
     * @param  {String} data     Box shadow in CSS format (1px 1px 1px rgba(0, 0, 0.5)).
     * @param  {Boolean} doReturn (optional) True to prevent a premature render.
     * @return {Mixed}          CanvasInput or current box shadow.
     */
    boxShadow: function(data, doReturn) {
      var self = this;

      if (typeof data !== 'undefined') {
        // parse box shadow
        var boxShadow = data.split('px ');
        self._boxShadow = {
          x: self._boxShadow === 'none' ? 0 : parseInt(boxShadow[0], 10),
          y: self._boxShadow === 'none' ? 0 : parseInt(boxShadow[1], 10),
          blur: self._boxShadow === 'none' ? 0 : parseInt(boxShadow[2], 10),
          color: self._boxShadow === 'none' ? '' : boxShadow[3]
        };

        // take into account the shadow and its direction
        if (self._boxShadow.x &lt; 0) {
          self.shadowL = Math.abs(self._boxShadow.x) + self._boxShadow.blur;
          self.shadowR = self._boxShadow.blur + self._boxShadow.x;
        } else {
          self.shadowL = Math.abs(self._boxShadow.blur - self._boxShadow.x);
          self.shadowR = self._boxShadow.blur + self._boxShadow.x;
        }
        if (self._boxShadow.y &lt; 0) {
          self.shadowT = Math.abs(self._boxShadow.y) + self._boxShadow.blur;
          self.shadowB = self._boxShadow.blur + self._boxShadow.y;
        } else {
          self.shadowT = Math.abs(self._boxShadow.blur - self._boxShadow.y);
          self.shadowB = self._boxShadow.blur + self._boxShadow.y;
        }

        self.shadowW = self.shadowL + self.shadowR;
        self.shadowH = self.shadowT + self.shadowB;

        self._calcWH();

        if (!doReturn) {
          self._updateCanvasWH();

          return self.render();
        }
      } else {
        return self._boxShadow;
      }
    },

    /**
     * Get/set the inner shadow.
     * @param  {String} data In the format of a CSS box shadow (1px 1px 1px rgba(0, 0, 0.5)).
     * @return {Mixed}          CanvasInput or current inner shadow.
     */
    innerShadow: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._innerShadow = data;

        return self.render();
      } else {
        return self._innerShadow;
      }
    },

    /**
     * Get/set the text selection color.
     * @param  {String} data Color.
     * @return {Mixed}      CanvasInput or current selection color.
     */
    selectionColor: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._selectionColor = data;

        return self.render();
      } else {
        return self._selectionColor;
      }
    },

    /**
     * Get/set the place holder text.
     * @param  {String} data Place holder text.
     * @return {Mixed}      CanvasInput or current place holder text.
     */
    placeHolder: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._placeHolder = data;

        return self.render();
      } else {
        return self._placeHolder;
      }
    },

    /**
     * Get/set the current text box value.
     * @param  {String} data Text value.
     * @return {Mixed}      CanvasInput or current text value.
     */
    value: function(data) {
      var self = this;

      if (typeof data !== 'undefined') {
        self._value = data + '';
        self._hiddenInput.value = data + '';

        // update the cursor position
        self._cursorPos = self._clipText().length;

        self.render();

        return self;
      } else {
        return (self._value === self._placeHolder) ? '' : self._value;
      }
    },

    /**
     * Set or fire the onsubmit event.
     * @param  {Function} fn Custom callback.
     */
    onsubmit: function(fn) {
      var self = this;

      if (typeof fn !== 'undefined') {
        self._onsubmit = fn;

        return self;
      } else {
        self._onsubmit();
      }
    },

    /**
     * Set or fire the onkeydown event.
     * @param  {Function} fn Custom callback.
     */
    onkeydown: function(fn) {
      var self = this;

      if (typeof fn !== 'undefined') {
        self._onkeydown = fn;

        return self;
      } else {
        self._onkeydown();
      }
    },

    /**
     * Set or fire the onkeyup event.
     * @param  {Function} fn Custom callback.
     */
    onkeyup: function(fn) {
      var self = this;

      if (typeof fn !== 'undefined') {
        self._onkeyup = fn;

        return self;
      } else {
        self._onkeyup();
      }
    },

    /**
     * Place focus on the CanvasInput box, placing the cursor
     * either at the end of the text or where the user clicked.
     * @param  {Number} pos (optional) The position to place the cursor.
     * @return {UI.CanvasInput}
     */
    focus: function(pos) {
      var self = this;

      // only fire the focus event when going from unfocussed
      if (!self._hasFocus) {
        self._onfocus(self);

        // remove focus from all other inputs
        for (var i=0; i&lt;inputs.length; i++) {
          if (inputs[i]._hasFocus) {
            inputs[i].blur();
          }
        }
      }

      // remove selection
      if (!self._selectionUpdated) {
        self._selection = [0, 0];
      } else {
        delete self._selectionUpdated;
      }

      // if this is readonly, don't allow it to get focus
      self._hasFocus = true;
      if (self._readonly) {
        self._hiddenInput.readOnly = true;
      } else {
        self._hiddenInput.readOnly = false;

        // update the cursor position
        self._cursorPos = (typeof pos === 'number') ? pos : self._clipText().length;

        // clear the place holder
        if (self._placeHolder === self._value) {
          self._value = '';
          self._hiddenInput.value = '';
        }

        self._cursor = true;

        // setup cursor interval
        if (self._cursorInterval) {
          clearInterval(self._cursorInterval);
        }
        self._cursorInterval = setInterval(function() {
          self._cursor = !self._cursor;
          self.render();
        }, 500);
      }

      // move the real focus to the hidden input
      var hasSelection = (self._selection[0] > 0 || self._selection[1] > 0);
      self._hiddenInput.focus();
      self._hiddenInput.selectionStart = hasSelection ? self._selection[0] : self._cursorPos;
      self._hiddenInput.selectionEnd = hasSelection ? self._selection[1] : self._cursorPos;

      return self.render();
    },

    /**
     * Removes focus from the CanvasInput box.
     * @param  {Object} _this Reference to this.
     * @return {UI.CanvasInput}
     */
    blur: function(_this) {
      var self = _this || this;

      self._onblur(self);

      if (self._cursorInterval) {
        clearInterval(self._cursorInterval);
      }
      self._hasFocus = false;
      self._cursor = false;
      self._selection = [0, 0];
      self._hiddenInput.blur();

      // fill the place holder
      if (self._value === '') {
        self._value = self._placeHolder;
      }

      return self.render();
    },

    /**
     * Fired with the keydown event to draw the typed characters.
     * @param  {Event}       e    The keydown event.
     * @param  {UI.CanvasInput} self
     * @return {UI.CanvasInput}
     */
    keydown: function(e, self) {
      var keyCode = e.which,
        isShift = e.shiftKey,
        key = null,
        startText, endText;

      // make sure the correct text field is being updated
      if (self._readonly || !self._hasFocus) {
        return;
      }

      // fire custom user event
      self._onkeydown(e, self);

      // add support for Ctrl/Cmd+A selection
      if (keyCode === 65 &amp;&amp; (e.ctrlKey || e.metaKey)) {
        self.selectText();
        e.preventDefault();
        return self.render();
      }

      // block keys that shouldn't be processed
      if (keyCode === 17 || e.metaKey || e.ctrlKey) {
        return self;
      }

      if (keyCode === 13) { // enter key
        e.preventDefault();
        self._onsubmit(e, self);
      } else if (keyCode === 9) { // tab key
        e.preventDefault();
        if (inputs.length > 1) {
          var next = (inputs[self._inputsIndex + 1]) ? self._inputsIndex + 1 : 0;
          self.blur();
          setTimeout(function() {
            inputs[next].focus();
          }, 10);
        }
      }

      // update the canvas input state information from the hidden input
      self._value = self._hiddenInput.value;
      self._cursorPos = self._hiddenInput.selectionStart;
      self._selection = [0, 0];

      return self.render();
    },

    /**
     * Fired with the click event on the canvas, and puts focus on/off
     * based on where the user clicks.
     * @param  {Event}       e    The click event.
     * @param  {UI.CanvasInput} self
     * @return {UI.CanvasInput}
     */
    click: function(e, self) {
      var mouse = self._mousePos(e),
        x = mouse.x,
        y = mouse.y;

      if (self._endSelection) {
        delete self._endSelection;
        delete self._selectionUpdated;
        return;
      }

      if (self._canvas &amp;&amp; self._overInput(x, y) || !self._canvas) {
        if (self._mouseDown) {
          self._mouseDown = false;
          self.click(e, self);
          return self.focus(self._clickPos(x, y));
        }
      } else {
        return self.blur();
      }
    },

    /**
     * Fired with the mousemove event to update the default cursor.
     * @param  {Event}       e    The mousemove event.
     * @param  {UI.CanvasInput} self
     * @return {UI.CanvasInput}
     */
    mousemove: function(e, self) {
      var mouse = self._mousePos(e),
        x = mouse.x,
        y = mouse.y,
        isOver = self._overInput(x, y);

      if (isOver &amp;&amp; self._canvas) {
        self._canvas.style.cursor = 'text';
        self._wasOver = true;
      } else if (self._wasOver &amp;&amp; self._canvas) {
        self._canvas.style.cursor = 'default';
        self._wasOver = false;
      }

      if (self._hasFocus &amp;&amp; self._selectionStart >= 0) {
        var curPos = self._clickPos(x, y),
          start = Math.min(self._selectionStart, curPos),
          end = Math.max(self._selectionStart, curPos);

        if (!isOver) {
          self._selectionUpdated = true;
          self._endSelection = true;
          delete self._selectionStart;
          self.render();
          return;
        }

        if (self._selection[0] !== start || self._selection[1] !== end) {
          self._selection = [start, end];
          self.render();
        }
      }
    },

    /**
     * Fired with the mousedown event to start a selection drag.
     * @param  {Event} e    The mousedown event.
     * @param  {UI.CanvasInput} self
     */
    mousedown: function(e, self) {
      var mouse = self._mousePos(e),
        x = mouse.x,
        y = mouse.y,
        isOver = self._overInput(x, y);

      // setup the 'click' event
      self._mouseDown = isOver;

      // start the selection drag if inside the input
      if (self._hasFocus &amp;&amp; isOver) {
        self._selectionStart = self._clickPos(x, y);
      }
    },

    /**
     * Fired with the mouseup event to end a selection drag.
     * @param  {Event} e    The mouseup event.
     * @param  {UI.CanvasInput} self
     */
    mouseup: function(e, self) {
      var mouse = self._mousePos(e),
        x = mouse.x,
        y = mouse.y;

      // update selection if a drag has happened
      var isSelection = self._clickPos(x, y) !== self._selectionStart;
      if (self._hasFocus &amp;&amp; self._selectionStart >= 0 &amp;&amp; self._overInput(x, y) &amp;&amp; isSelection) {
        self._selectionUpdated = true;
        delete self._selectionStart;
        self.render();
      } else {
        delete self._selectionStart;
      }

      self.click(e, self);
    },

    /**
     * Select a range of text in the input.
     * @param  {Array} range (optional) Leave blank to select all. Format: [start, end]
     * @return {UI.CanvasInput}
     */
    selectText: function(range) {
      var self = this,
        range = range || [0, self._value.length];

      // select the range of text specified (or all if none specified)
      setTimeout(function() {
        self._selection = [range[0], range[1]];
        self._hiddenInput.selectionStart = range[0];
        self._hiddenInput.selectionEnd = range[1];
        self.render();
      }, 1);

      return self;
    },

    /**
     * Helper method to get the off-DOM canvas.
     * @return {Object} Reference to the canvas.
     */
    renderCanvas: function() {
      return this._renderCanvas;
    },

    /**
     * Clears and redraws the CanvasInput on an off-DOM canvas,
     * and if a main canvas is provided, draws it all onto that.
     * @return {UI.CanvasInput}
     */
    render: function(force) {

      var self = this,
        ctx = self._renderCtx,
        w = self.outerW,
        h = self.outerH,
        br = self._borderRadius,
        bw = self._borderWidth,
        sw = self.shadowW,
        sh = self.shadowH;

      if (self.manual &amp;&amp; !force)
        return;

      if (!ctx) {
        return;
      }

      // clear the canvas
      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);

      // setup the box shadow
      ctx.shadowOffsetX = self._boxShadow.x;
      ctx.shadowOffsetY = self._boxShadow.y;
      ctx.shadowBlur = self._boxShadow.blur;
      ctx.shadowColor = self._boxShadow.color;

      // draw the border
      if (self._borderWidth > 0) {
        ctx.fillStyle = self._borderColor;
        self._roundedRect(ctx, self.shadowL, self.shadowT, w - sw, h - sh, br);
        ctx.fill();

        ctx.shadowOffsetX = 0;
        ctx.shadowOffsetY = 0;
        ctx.shadowBlur = 0;
      }

      // draw the text box background
      self._drawTextBox(function() {
        // make sure all shadows are reset
        ctx.shadowOffsetX = 0;
        ctx.shadowOffsetY = 0;
        ctx.shadowBlur = 0;

        // clip the text so that it fits within the box
        var text = self._clipText();

        // draw the selection
        var paddingBorder = self._padding + self._borderWidth + self.shadowT;
        if (self._selection[1] > 0) {
          var selectOffset = self._textWidth(text.substring(0, self._selection[0])),
            selectWidth = self._textWidth(text.substring(self._selection[0], self._selection[1]));

          ctx.fillStyle = self._selectionColor;
          ctx.fillRect(paddingBorder + selectOffset, paddingBorder, selectWidth, self._height);
        }

        // draw the cursor
        if (self._cursor) {
          var cursorOffset = self._textWidth(text.substring(0, self._cursorPos));
          ctx.fillStyle = self._fontColor;
          ctx.fillRect(paddingBorder + cursorOffset, paddingBorder, 1, self._height);
        }

        // draw the text
        var textX = self._padding + self._borderWidth + self.shadowL,
          textY = Math.round(paddingBorder + self._height / 2);

        // only remove the placeholder text if they have typed something
        text = (text === '' &amp;&amp; self._placeHolder) ? self._placeHolder : text;

        ctx.fillStyle = (self._value !== '' &amp;&amp; self._value !== self._placeHolder) ? self._fontColor : self._placeHolderColor;
        ctx.font = self._fontStyle + ' ' + self._fontWeight + ' ' + self._fontSize + 'px ' + self._fontFamily;
        ctx.shadowColor = self._fontShadowColor;
        ctx.shadowBlur = self._fontShadowBlur;
        ctx.shadowOffsetX = self._fontShadowOffsetX;
        ctx.shadowOffsetY = self._fontShadowOffsetY;
        ctx.textAlign = 'left';
        ctx.textBaseline = 'middle';
        ctx.fillText(text, textX, textY);

        // parse inner shadow
        var innerShadow = self._innerShadow.split('px '),
          isOffsetX = self._innerShadow === 'none' ? 0 : parseInt(innerShadow[0], 10),
          isOffsetY = self._innerShadow === 'none' ? 0 : parseInt(innerShadow[1], 10),
          isBlur = self._innerShadow === 'none' ? 0 : parseInt(innerShadow[2], 10),
          isColor = self._innerShadow === 'none' ? '' : innerShadow[3];

        // draw the inner-shadow (damn you canvas, this should be easier than this...)
        if (isBlur > 0) {
          var shadowCtx = self._shadowCtx,
            scw = shadowCtx.canvas.width,
            sch = shadowCtx.canvas.height;

          shadowCtx.clearRect(0, 0, scw, sch);
          shadowCtx.shadowBlur = isBlur;
          shadowCtx.shadowColor = isColor;

          // top shadow
          shadowCtx.shadowOffsetX = 0;
          shadowCtx.shadowOffsetY = isOffsetY;
          shadowCtx.fillRect(-1 * w, -100, 3 * w, 100);

          // right shadow
          shadowCtx.shadowOffsetX = isOffsetX;
          shadowCtx.shadowOffsetY = 0;
          shadowCtx.fillRect(scw, -1 * h, 100, 3 * h);

          // bottom shadow
          shadowCtx.shadowOffsetX = 0;
          shadowCtx.shadowOffsetY = isOffsetY;
          shadowCtx.fillRect(-1 * w, sch, 3 * w, 100);

          // left shadow
          shadowCtx.shadowOffsetX = isOffsetX;
          shadowCtx.shadowOffsetY = 0;
          shadowCtx.fillRect(-100, -1 * h, 100, 3 * h);

          // create a clipping mask on the main canvas
          self._roundedRect(ctx, bw + self.shadowL, bw + self.shadowT, w - bw * 2 - sw, h - bw * 2 - sh, br);
          ctx.clip();

          // draw the inner-shadow from the off-DOM canvas
          ctx.drawImage(self._shadowCanvas, 0, 0, scw, sch, bw + self.shadowL, bw + self.shadowT, scw, sch);
        }

        // draw to the visible canvas
        if (self._ctx) {
          self._ctx.clearRect(self._x, self._y, ctx.canvas.width, ctx.canvas.height);
          self._ctx.drawImage(self._renderCanvas, self._x, self._y);
        }

        return self;

      });
    },

    /**
     * Destroy this input and stop rendering it.
     */
    destroy: function() {
      var self = this;

      // pull from the inputs array
      var index = inputs.indexOf(self);
      if (index != -1) {
        inputs.splice(index, 1);
      }

      // remove focus
      if (self._hasFocus) {
        self.blur();
      }

      // remove the hidden input box
      document.body.removeChild(self._hiddenInput);

      // remove off-DOM canvas
      self._renderCanvas = null;
      self._shadowCanvas = null;
      self._renderCtx = null;
    },

    /**
     * Draw the text box area with either an image or background color.
     * @param  {Function} fn Callback.
     */
    _drawTextBox: function(fn) {
      var self = this,
        ctx = self._renderCtx,
        w = self.outerW,
        h = self.outerH,
        br = self._borderRadius,
        bw = self._borderWidth,
        sw = self.shadowW,
        sh = self.shadowH;

      // only draw the background shape if no image is being used
      if (self._backgroundImage === '') {
        ctx.fillStyle = self._backgroundColor;
        self._roundedRect(ctx, bw + self.shadowL, bw + self.shadowT, w - bw * 2 - sw, h - bw * 2 - sh, br);
        ctx.fill();

        fn();
      } else {
        var img = new Image();
        img.src = self._backgroundImage;
        img.onload = function() {
          ctx.drawImage(img, 0, 0, img.width, img.height, bw + self.shadowL, bw + self.shadowT, w, h);

          fn();
        };
      }
    },

    /**
     * Deletes selected text in selection range and repositions cursor.
     * @return {Boolean} true if text removed.
     */
    _clearSelection: function() {
      var self = this;

      if (self._selection[1] > 0) {
        // clear the selected contents
        var start = self._selection[0],
          end = self._selection[1];

        self._value = self._value.substr(0, start) + self._value.substr(end);
        self._cursorPos = start;
        self._cursorPos = (self._cursorPos &lt; 0) ? 0 : self._cursorPos;
        self._selection = [0, 0];

        return true;
      }

      return false;
    },

    /**
     * Clip the text string to only return what fits in the visible text box.
     * @param  {String} value The text to clip.
     * @return {String} The clipped text.
     */
    _clipText: function(value) {
      var self = this;
      value = (typeof value === 'undefined') ? self._value : value;

      var textWidth = self._textWidth(value),
        fillPer = textWidth / (self._width - self._padding),
        text = fillPer > 1 ? value.substr(-1 * Math.floor(value.length / fillPer)) : value;

      return text + '';
    },

    /**
     * Gets the pixel with of passed text.
     * @param  {String} text The text to measure.
     * @return {Number}      The measured width.
     */
    _textWidth: function(text) {
      var self = this,
        ctx = self._renderCtx;

      ctx.font = self._fontStyle + ' ' + self._fontWeight + ' ' + self._fontSize + 'px ' + self._fontFamily;
      ctx.textAlign = 'left';

      return ctx.measureText(text).width;
    },

    /**
     * Recalculate the outer with and height of the text box.
     */
    _calcWH: function() {
      var self = this;

      // calculate the full width and height with padding, borders and shadows
      self.outerW = self._width + self._padding * 2 + self._borderWidth * 2 + self.shadowW;
      self.outerH = self._height + self._padding * 2 + self._borderWidth * 2 + self.shadowH;
    },

    /**
     * Update the width and height of the off-DOM canvas when attributes are changed.
     */
    _updateCanvasWH: function() {
      var self = this,
        oldW = self._renderCanvas.width,
        oldH = self._renderCanvas.height;

      // update off-DOM canvas
      self._renderCanvas.setAttribute('width', self.outerW);
      self._renderCanvas.setAttribute('height', self.outerH);
      self._shadowCanvas.setAttribute('width', self._width + self._padding * 2);
      self._shadowCanvas.setAttribute('height', self._height + self._padding * 2);

      // clear the main canvas
      if (self._ctx) {
        self._ctx.clearRect(self._x, self._y, oldW, oldH);
      }
    },

    /**
     * Update the size and position of the hidden input (better UX on mobile).
     */
    _updateHiddenInput: function() {
      var self = this;

      self._hiddenInput.style.left = (self._x + self._extraX + (self._canvas ? self._canvas.offsetLeft : 0)) + 'px';
      self._hiddenInput.style.top = (self._y + self._extraY + (self._canvas ? self._canvas.offsetTop : 0)) + 'px';
      self._hiddenInput.style.width = (self._width + self._padding * 2) + 'px';
      self._hiddenInput.style.height = (self._height + self._padding * 2) + 'px';
    },

    /**
     * Creates the path for a rectangle with rounded corners.
     * Must call ctx.fill() after calling this to draw the rectangle.
     * @param  {Object} ctx Canvas context.
     * @param  {Number} x   x-coordinate to draw from.
     * @param  {Number} y   y-coordinate to draw from.
     * @param  {Number} w   Width of rectangle.
     * @param  {Number} h   Height of rectangle.
     * @param  {Number} r   Border radius.
     */
    _roundedRect: function(ctx, x, y, w, h, r) {
      if (w &lt; 2 * r) r = w / 2;
      if (h &lt; 2 * r) r = h / 2;

      ctx.beginPath();

      ctx.moveTo(x + r, y);
      ctx.lineTo(x + w - r, y);
      ctx.quadraticCurveTo(x + w, y, x + w, y + r);
      ctx.lineTo(x + w, y + h - r);
      ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
      ctx.lineTo(x + r, y + h);
      ctx.quadraticCurveTo(x, y + h, x, y + h - r);
      ctx.lineTo(x, y + r);
      ctx.quadraticCurveTo(x, y, x + r, y);

      ctx.closePath();
    },

    /**
     * Checks if a coordinate point is over the input box.
     * @param  {Number} x x-coordinate position.
     * @param  {Number} y y-coordinate position.
     * @return {Boolean}   True if it is over the input box.
     */
    _overInput: function(x, y) {
      var self = this,
        xLeft = x >= self._x + self._extraX,
        xRight = x &lt;= self._x + self._extraX + self._width + self._padding * 2,
        yTop = y >= self._y + self._extraY,
        yBottom = y &lt;= self._y + self._extraY + self._height + self._padding * 2;

      return xLeft &amp;&amp; xRight &amp;&amp; yTop &amp;&amp; yBottom;
    },

    /**
     * Use the mouse's x &amp; y coordinates to determine
     * the position clicked in the text.
     * @param  {Number} x X-coordinate.
     * @param  {Number} y Y-coordinate.
     * @return {Number}   Cursor position.
     */
    _clickPos: function(x, y) {
      var self = this,
        value = self._value;

      // don't count placeholder text in this
      if (self._value === self._placeHolder) {
        value = '';
      }

      // determine where the click was made along the string
      var text = self._clipText(value),
        totalW = 0,
        pos = text.length;

      if (x - (self._x + self._extraX) &lt; self._textWidth(text)) {
        // loop through each character to identify the position
        for (var i=0; i&lt;text.length; i++) {
          totalW += self._textWidth(text[i]);
          if (totalW >= x - (self._x + self._extraX)) {
            pos = i;
            break;
          }
        }
      }

      return pos;
    },

    /**
     * Calculate the mouse position based on the event callback and the elements on the page.
     * @param  {Event} e
     * @return {Object}   x &amp; y values
     */
    _mousePos: function(e) {
      var elm = e.target,
        x = e.pageX,
        y = e.pageY;

      // support touch events in page location calculation
      if (e.touches &amp;&amp; e.touches.length) {
        elm = e.touches[0].target;
        x = e.touches[0].pageX;
        y = e.touches[0].pageY;
      } else if (e.changedTouches &amp;&amp; e.changedTouches.length) {
        elm = e.changedTouches[0].target;
        x = e.changedTouches[0].pageX;
        y = e.changedTouches[0].pageY;
      }

      var style = document.defaultView.getComputedStyle(elm, undefined),
        paddingLeft = parseInt(style['paddingLeft'], 10) || 0,
        paddingTop = parseInt(style['paddingLeft'], 10) || 0,
        borderLeft = parseInt(style['borderLeftWidth'], 10) || 0,
        borderTop = parseInt(style['borderLeftWidth'], 10) || 0,
        htmlTop = document.body.parentNode.offsetTop || 0,
        htmlLeft = document.body.parentNode.offsetLeft || 0,
        offsetX = 0,
        offsetY = 0;

      // calculate the total offset
      if (typeof elm.offsetParent !== 'undefined') {
        do {
          offsetX += elm.offsetLeft;
          offsetY += elm.offsetTop;
        } while ((elm = elm.offsetParent));
      }

      // take into account borders and padding
      offsetX += paddingLeft + borderLeft + htmlLeft;
      offsetY += paddingTop + borderTop + htmlTop;

      return {
        x: x - offsetX,
        y: y - offsetY
      };
    }
  };
})();
</code></pre>
        </article>
    </section>






        

        <footer>
            Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Aug 22 2018 00:19:25 GMT+0300 (שעון קיץ ירושלים)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
<script src="scripts/main.js"></script>
</body>
</html>
